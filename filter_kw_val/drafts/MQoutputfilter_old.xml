<tool id="MQoutputfilter" name="MaxQuant Output Filter" version="0.1.0">
    <description>Filter MaxQuant output file by keyworks or values</description>
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        ##echo $options.np.number_of_proteins > $output1
        python /projet/galaxydev/galaxy/tools/proteore_uc1/filter.py -i "$input1" -o "$output1"
        
        #if $options.protein_IDs
            --protein_IDs "$options.protein_IDs"
        #end if
        
        #if $options.protein_names
            --protein_names "$options.protein_names"
        #end if
        
        #if $options.gene_names
            --gene_names "$options.gene_names"
        #end if
        
        #if $options.fasta_headers
            --fasta_headers "$options.fasta_headers"
        #end if
        
        #if $options.np.number_of_proteins != "None"
            --number_of_proteins
            #if $options.np.number_of_proteins == "Equal"
                $options.np.equal "="
            #else if $options.np.number_of_proteins == "Higher"
                $options.np.higher ">"
            #else if $options.np.number_of_proteins == "Equal or higher"
                $options.np.equal_higher ">="
            #else if $options.np.number_of_proteins == "Lower"
                $options.np.lower "<"
            #else
                $options.np.equal_lower "<="
            #end if
        #end if

        #if $options.pep.peptides != "None"
            --peptides
            #if $options.pep.peptides == "Equal"
                $options.pep.equal "="
            #else if $options.pep.peptides == "Higher"
                $options.pep.higher ">"
            #else if $options.pep.peptides == "Equal or higher"
                $options.pep.equal_higher ">="
            #else if $options.pep.peptides == "Lower"
                $options.pep.lower "<"
            #else
                $options.pep.equal_lower "<="
            #end if
        #end if

        #if $options.qval.q_value != "None"
            --q_value
            #if $options.qval.q_value == "Equal"
                $options.qval.equal "="
            #else if $options.qval.q_value == "Higher"
                $options.qval.higher ">"
            #else if $options.qval.q_value == "Equal or higher"
                $options.qval.equal_higher ">="
            #else if $options.qval.q_value == "Lower"
                $options.qval.lower "<"
            #else
                $options.qval.equal_lower "<="
            #end if
        #end if

        #if $options.score.score != "None"
            --score
            #if $options.score.score == "Equal"
                $options.score.equal "="
            #else if $options.score.score == "Higher"
                $options.score.higher ">"
            #else if $options.score.score == "Equal or higher"
                $options.score.equal_higher ">="
            #else if $options.score.score == "Lower"
                $options.score.lower "<"
            #else
                $options.score.equal_lower "<="
            #end if
        #end if

        #if $options.intensity.intensity != "None"
            --intensity
            #if $options.intensity.intensity == "Equal"
                $options.intensity.equal "="
            #else if $options.intensity.intensity == "Higher"
                $options.intensity.higher ">"
            #else if $options.intensity.intensity == "Equal or higher"
                $options.intensity.equal_higher ">="
            #else if $options.intensity.intensity == "Lower"
                $options.intensity.lower "<"
            #else
                $options.intensity.equal_lower "<="
            #end if
        #end if

        #if $options.iBAQ.iBAQ != "None"
            --iBAQ
            #if $options.iBAQ.iBAQ == "Equal"
                $options.iBAQ.equal "="
            #else if $options.iBAQ.iBAQ == "Higher"
                $options.iBAQ.higher ">"
            #else if $options.iBAQ.iBAQ == "Equal or higher"
                $options.iBAQ.equal_higher ">="
            #else if $options.iBAQ.iBAQ == "Lower"
                $options.iBAQ.lower "<"
            #else
                $options.iBAQ.equal_lower "<="
            #end if
        #end if
        ##echo $options.protein_IDs | tr ":" ";" >> $output1
    ]]></command>
    <inputs>
        <param type="data" name="input1" format="txt" label="MaxQuant output file" />
        <section name="options" title="Options (Fill in one or more options)" expanded="False">
            <param argument="--protein_IDs" type="text" label="Protein IDs" optional="True" />
            <param argument="--protein_names" type="text" label="Protein names" optional="True" />
            <conditional name="np">
                <param argument="--number_of_proteins" type="select" label="Number of proteins" optional="True" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="integer" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="integer" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="integer" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="integer" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="integer" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
            <param argument="--gene_names" type="text" label="Gene names" optional="True" />
            <param argument="--fasta_headers" type="text" label="FASTA headers" optional="True" />
            <conditional name="pep">
                <param argument="--peptides" type="select" label="Peptides" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="integer" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="integer" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="integer" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="integer" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="integer" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
            <conditional name="qval">
                <param argument="--q_value" type="select" label="Q-value" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="float" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="float" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="float" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="float" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="float" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
            <conditional name="score">
                <param argument="--score" type="select" label="Score" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="float" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="float" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="float" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="float" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="float" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
            <conditional name="intensity">
                <param argument="--intensity" type="select" label="Intensity" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="integer" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="integer" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="integer" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="integer" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="integer" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
            <conditional name="iBAQ">
                <param argument="--iBAQ" type="select" label="iBAQ" >
                    <option value="None">---</option>
                    <option value="Equal">=</option>
                    <option value="Higher">&gt;</option>
                    <option value="Equal or higher">&gt;=</option>
                    <option value="Lower">&lt;</option>
                    <option value="Equal or lower">&lt;=</option>
                </param>
                <when value="None" >
                </when>
                <when value="Equal" >
                    <param name="equal" type="float" value="" label="Value" />
                </when>
                <when value="Higher" >
                    <param type="float" name="higher" value="" label="Value" />
                </when>
                <when value="Equal or higher" >
                    <param type="float" name="equal_higher" value="" label="Value" />
                </when>
                <when value="Lower" >
                    <param type="float" name="lower" value="" label="Value" />
                </when>
                <when value="Equal or lower" >
                    <param type="float" name="equal_lower" value="" label="Value" />
                </when>
            </conditional>
        </section>
    </inputs>
    <outputs>
        <data name="output1" format="txt" />
    </outputs>
    <tests>       
    </tests>
    <help><![CDATA[
--input, -i
                Input file, text format
--protein_IDs
                Protein IDs to filter, separated by ':'
--protein_names
                Protein names to filter, separated by ':'
--gene_names
                Gene names to filter, separated by ':'
--fasta_headers
                Fasta headers to filter, separated by ':'
--peptides
                Peptides to filter, separated by ':'
--iBAQ
                iBAQ value to filter, separated by ':'
--number_of_proteins
                Number of proteins to filter, separated by ':'
--intensity
                Intensity value to filter, separated by ':'
--q_value
                Q-value to filter, separated by ':'
--score         Score value to filter, separated by ':'

--identification_type

--output, -o    Output filename, default="output.txt"

    ]]></help>
    <citations>
    </citations>
</tool>

