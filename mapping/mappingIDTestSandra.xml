<tool id="mappingIDTest" name="MappingIDs" version="0.1.0">
    <description>Mapping IDs using neXtProt mapping sources
    </description>
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        Rscript /projet/galaxydev/galaxy/tools/proteore_uc1/mapping/mappingIDs.R
        #if $input.ids == "text"
            "$input.txt"
            "list"
        #else if $input.ids == "file_list"
            "$input.list"
            "file_id"
        #else
            "$input.file,$input.ncol"
            "file_all"
        #end if
        "$output"
    ]]></command>
    <inputs>
        <conditional name="input" >
            <param name="ids" type="select" label="Input IDs" multiple="true">
                <option value="text">Enter list of IDs</option>
                <option value="file_list">Choose a file that contains list of IDs</option>
                <option value="file_all">Choose a file that contains multiple information</option>
            </param>
            <when value="text" >
                <param name="txt" type="text" label="Enter list of IDs" help='IDs should be separated by a space " "' />
            </when>
            <when value="file_list" >
                <param name="list" type="data" format="txt,tabular" label="Choose a file that contains list of IDs" help="This file should contain only 1 column, each rows is an ID" />
            </when>
            <when value="file_all" >
                <param name="file" type="data" format="txt,tabular" label="Choose a file that contains multiple information" help="This file can be an output of MaxQuant or similar with a column containing IDs" />
                <param name="ncol" type="text" label="The column number of IDs to map" help='For example, fill in "c1" if it is the first column, "c2" if it is the second column and so on' />
            </when>
        </conditional>
    </inputs>
    <outputs>
        <data name="output" format="txt" />
    </outputs>
    <help><![CDATA[
This tool provides service of mapping protein/gene ID using neXtProt database.

After choosing the type of input IDs, you can choose one or more types of IDs you would like to map to. 

If your input is a list of IDs or a single-column file, the tool will return a file containing the mapped IDs.

If your input is a multiple-column file, the mapped IDs column(s) will be added at the end of the input file.

Available databases: 
   ENSG: Ensembl gene identifiers
   ENSP: Ensembl protein identifiers
   ENSP(unmapped): Ensembl protein identifiers that cannot be mapped to any isoform in neXtProt
   ENST: Ensembl transcript identifiers
   ENST(unmapped): Ensembl transcript identifiers considered as coding by Ensembl that cannot be mapped to any isoform in neXtProt
   GeneID: NCBI GeneID gene accession numbers
   HGNC: HGNC gene accession numbers
   IPI: IPI protein identifiers
   MGI: MGI mouse gene accession numbers
   NCBI RefSeq: NCBI RefSeq protein accession numbers
    ]]></help>
    <citations>
    </citations>
</tool>
