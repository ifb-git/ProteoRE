<tool id="goP" name="goProfilesP" version="0.1.0">
    <description> Create profiles and plot them - goProfiles R package
    </description>
    <requirements>
        <requirement type="package" version="3.2.1">R</requirement>
        <requirement type="package" version="3.2.3">org.Hs.eg.db</requirement>
        <requirement type="package" version="1.32.0">goProfiles</requirement>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        Rscript /projet/galaxydev/galaxy/tools/proteore_uc1/component4/go.R $input1
        #if $onto_opt=="cc"
            "CC"
        #else if $onto_opt=="mf"
            "MF"
        #else if $onto_opt=="bp"
            "BP"
        #else if $onto_opt=="all"
            "ALL"
        #end if

        $plot_opt

    ]]></command>
    <inputs>
        <param type="data" name="input1" format="txt" label="Filtered MaxQuant file" />
        <param type="select" name="onto_opt" label="Choose ontology category:" >
            <option value="cc">Cellular component</option>
            <option value="mf">Molecular function</option>
            <option value="bp">Biological process</option>
            <option value="all">All</option>
        </param>
        <param type="select" name="plot_opt" label="Choose plot output extension" >
            <option value="PNG">PNG</option>
            <option value="JPEG">JPEG</option>
            <option value="PDF">PDF</option>
        </param>
    </inputs>
    <outputs>
        <data name="output_png" format="png" label="GO Profile" >
            <discover_datasets pattern="profile\.(.+)\.png" visible="True" format="png"/>
            <filter>plot_opt == "PNG"</filter>
        </data>
        <data name="output_jpeg" format="jpeg" label="GO Profile" >
            <discover_datasets pattern="profile\.(.+)\.jpeg" visible="True" format="jpg"/>
            <filter>plot_opt == "JPEG"</filter>
        </data>
        <data name="output_pdf" format="pdf" label="GO Profile" >
            <discover_datasets pattern="profile\.(.+)\.pdf" visible="True" format="pdf"/>
            <filter>plot_opt == "PDF"</filter>
        </data>
    </outputs>
    <help><![CDATA[
        TODO: Fill in help.
    ]]></help>
    <citations>
    </citations>
</tool>
